{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/auth.service\";\nimport * as i4 from \"../services/token-storage.service\";\nimport * as i5 from \"ng-zorro-antd/message\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i9 from \"ng-zorro-antd/icon\";\nimport * as i10 from \"ng-zorro-antd/modal\";\nimport * as i11 from \"ng-zorro-antd/upload\";\nconst _c0 = function () {\n  return {\n    width: \"100%\"\n  };\n};\nfunction CreateProductoComponent_ng_template_85_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 30);\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r8.previewImage, i0.ɵɵsanitizeUrl)(\"ngStyle\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\nconst getBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = error => reject(error);\n});\n/*\r\nconst getBase64 = async (file: File): Promise<string> => {\r\n  const image = await Jimp.read(file);\r\n  return new Promise((resolve) => {\r\n    image.getBase64(Jimp.MIME_JPEG, (err, src) => {\r\n      resolve(src);\r\n    });\r\n  });\r\n};\r\n*/\nexport let CreateProductoComponent = /*#__PURE__*/(() => {\n  class CreateProductoComponent {\n    constructor(productoServicio, router, _auth, _token, msg) {\n      this.productoServicio = productoServicio;\n      this.router = router;\n      this._auth = _auth;\n      this._token = _token;\n      this.msg = msg;\n      this.fileList = [];\n      this.previewImage = '';\n      this.previewVisible = false;\n      this.product = {\n        id_producto: '',\n        nombre: '',\n        descripcion: '',\n        precio: Number(),\n        precio_fabrica: Number(),\n        cantidad: Number(),\n        descuento: Number(),\n        fecha_registro: new Date(Date.now()),\n        fileList: []\n      };\n      this.handlePreview = file => __awaiter(this, void 0, void 0, function* () {\n        if (!file.url && !file.preview) {\n          file.preview = yield getBase64(file.originFileObj);\n        }\n        this.previewImage = file.url || file.preview;\n        this.previewVisible = true;\n      });\n    }\n    ngOnInit() {\n      let id = this._token.getId();\n      this.userId = id;\n      console.log(this.userId);\n    }\n    nuevoProduct() {\n      this._auth;\n      console.log(this.fileList);\n      this.product.fileList[0] = this.fileList[0].thumbUrl;\n      this.productoServicio.nuevoProducto(this.product, this.userId).subscribe(res => {\n        console.log(res);\n        this.router.navigate(['/empresa-producto']);\n      }, err => console.log(err));\n    }\n  }\n  CreateProductoComponent.ɵfac = function CreateProductoComponent_Factory(t) {\n    return new (t || CreateProductoComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.TokenStorageService), i0.ɵɵdirectiveInject(i5.NzMessageService));\n  };\n  CreateProductoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateProductoComponent,\n    selectors: [[\"app-create-producto\"]],\n    decls: 90,\n    vars: 12,\n    consts: [[\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD\", \"crossorigin\", \"anonymous\"], [1, \"container-xl\"], [1, \"table-responsive\"], [1, \"table-wrapper\"], [1, \"table-title\"], [1, \"row\"], [1, \"col-sm-6\"], [\"href\", \"#\", \"routerLink\", \"/empresa-producto\", 1, \"btn\", \"btn-success\", \"back\"], [1, \"fas\", \"fa-arrow-circle-left\"], [\"employeeForm\", \"ngForm\"], [1, \"table-content\"], [1, \"form-group\", \"p-10\", \"row\"], [1, \"col-sm-3\"], [\"for\", \"FirstName\", 1, \"p-t-b-10\"], [1, \"requiredStar\"], [1, \"col-sm-9\"], [\"type\", \"text\", \"id\", \"FirstName\", \"required\", \"\", \"maxlength\", \"255\", \"name\", \"FirstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"FirstName\", \"ngModel\"], [\"for\", \"LastName\", 1, \"p-t-b-10\"], [\"type\", \"text\", \"id\", \"LastName\", \"required\", \"\", \"maxlength\", \"255\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"LastName\", \"ngModel\"], [\"type\", \"number\", \"id\", \"LastName\", \"required\", \"\", \"maxlength\", \"255\", \"name\", \"LastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"clearfix\"], [\"nzAction\", \"https://www.mocky.io/v2/5cc8019d300000980a055e76\", \"nzListType\", \"picture\", 3, \"nzFileList\", \"nzShowButton\", \"nzPreview\", \"nzFileListChange\"], [\"nz-icon\", \"\", \"nzType\", \"plus\"], [2, \"margin-top\", \"8px\"], [3, \"nzVisible\", \"nzContent\", \"nzFooter\", \"nzOnCancel\"], [\"modalContent\", \"\"], [1, \"table-footer\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"src\", \"ngStyle\"]],\n    template: function CreateProductoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h4\")(8, \"b\");\n        i0.ɵɵtext(9, \"Nueva producto\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"a\", 7);\n        i0.ɵɵelement(12, \"i\", 8);\n        i0.ɵɵtext(13, \" \\u00A0Back\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"form\", null, 9)(16, \"div\", 10)(17, \"div\", 11)(18, \"div\", 12)(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Nombre\");\n        i0.ɵɵelementStart(21, \"span\", 14);\n        i0.ɵɵtext(22, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 15)(24, \"input\", 16, 17);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_24_listener($event) {\n          return ctx.product.nombre = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"div\", 11)(27, \"div\", 12)(28, \"label\", 18);\n        i0.ɵɵtext(29, \"descripcion\");\n        i0.ɵɵelementStart(30, \"span\", 14);\n        i0.ɵɵtext(31, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 15)(33, \"input\", 19, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_33_listener($event) {\n          return ctx.product.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(35, \"div\", 11)(36, \"div\", 12)(37, \"label\", 18);\n        i0.ɵɵtext(38, \"precio\");\n        i0.ɵɵelementStart(39, \"span\", 14);\n        i0.ɵɵtext(40, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(41, \"div\", 15)(42, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.product.precio = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"div\", 11)(45, \"div\", 12)(46, \"label\", 18);\n        i0.ɵɵtext(47, \"precio fabrica\");\n        i0.ɵɵelementStart(48, \"span\", 14);\n        i0.ɵɵtext(49, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(50, \"div\", 15)(51, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.product.precio_fabrica = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 11)(54, \"div\", 12)(55, \"label\", 18);\n        i0.ɵɵtext(56, \"cantidad\");\n        i0.ɵɵelementStart(57, \"span\", 14);\n        i0.ɵɵtext(58, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(59, \"div\", 15)(60, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_60_listener($event) {\n          return ctx.product.cantidad = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(62, \"div\", 11)(63, \"div\", 12)(64, \"label\", 18);\n        i0.ɵɵtext(65, \"descuento\");\n        i0.ɵɵelementStart(66, \"span\", 14);\n        i0.ɵɵtext(67, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"div\", 15)(69, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_69_listener($event) {\n          return ctx.product.descuento = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(71, \"div\", 11)(72, \"div\", 12)(73, \"label\", 18);\n        i0.ɵɵtext(74, \"Agregar Imagen\");\n        i0.ɵɵelementStart(75, \"span\", 14);\n        i0.ɵɵtext(76, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(77, \"div\", 15)(78, \"div\", 22)(79, \"nz-upload\", 23);\n        i0.ɵɵlistener(\"nzFileListChange\", function CreateProductoComponent_Template_nz_upload_nzFileListChange_79_listener($event) {\n          return ctx.fileList = $event;\n        });\n        i0.ɵɵelementStart(80, \"div\");\n        i0.ɵɵelement(81, \"span\", 24);\n        i0.ɵɵelementStart(82, \"div\", 25);\n        i0.ɵɵtext(83, \"Upload\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(84, \"nz-modal\", 26);\n        i0.ɵɵlistener(\"nzOnCancel\", function CreateProductoComponent_Template_nz_modal_nzOnCancel_84_listener() {\n          return ctx.previewVisible = false;\n        });\n        i0.ɵɵtemplate(85, CreateProductoComponent_ng_template_85_Template, 1, 3, \"ng-template\", null, 27, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(87, \"div\", 28)(88, \"button\", 29);\n        i0.ɵɵlistener(\"click\", function CreateProductoComponent_Template_button_click_88_listener() {\n          return ctx.nuevoProduct();\n        });\n        i0.ɵɵtext(89, \"Submit\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        const _r7 = i0.ɵɵreference(86);\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.nombre);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.descripcion);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.precio);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.precio_fabrica);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.cantidad);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.descuento);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"nzFileList\", ctx.fileList)(\"nzShowButton\", ctx.fileList.length < 2)(\"nzPreview\", ctx.handlePreview);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"nzVisible\", ctx.previewVisible)(\"nzContent\", _r7)(\"nzFooter\", null);\n      }\n    },\n    dependencies: [i6.NgStyle, i2.RouterLink, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MaxLengthValidator, i7.NgModel, i7.NgForm, i8.ɵNzTransitionPatchDirective, i9.NzIconDirective, i10.NzModalComponent, i11.NzUploadComponent],\n    styles: [\".container-xl[_ngcontent-%COMP%]{box-shadow:0 2px 4px #00000029,0 2px 10px #0000001f!important;padding:0;margin-top:6%;width:50%}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin:30px 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{background:#fff;padding:20px 25px;border-radius:3px;box-shadow:0 1px 1px #000}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{background:#64437d;color:#fff;padding:16px 30px;min-width:100%;margin:-20px -25px 10px;border-radius:3px 3px 0 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{float:right;text-transform:uppercase;font-size:13px!important}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]{padding-top:10px;text-align:center}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;width:100px;border-radius:2px;font-size:15px!important;text-transform:uppercase}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .p-10[_ngcontent-%COMP%]{padding:10px}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .p-t-b-10[_ngcontent-%COMP%]{padding:10px 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .requiredStar[_ngcontent-%COMP%]{color:red;padding-left:5px}[_nghost-%COMP%]     .avatar-uploader>.ant-upload{width:128px;height:128px}\"]\n  });\n  return CreateProductoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}