{"ast":null,"code":"import { Observable } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../services/auth.service\";\nimport * as i4 from \"../services/token-storage.service\";\nimport * as i5 from \"ng-zorro-antd/message\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i9 from \"ng-zorro-antd/icon\";\nimport * as i10 from \"ng-zorro-antd/upload\";\nfunction CreateProductoComponent_ng_container_73_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"span\", 27);\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵtext(3, \"Upload\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"nzType\", ctx_r7.loading ? \"loading\" : \"plus\");\n  }\n}\nfunction CreateProductoComponent_img_74_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 29);\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r8.avatarUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nexport let CreateProductoComponent = /*#__PURE__*/(() => {\n  class CreateProductoComponent {\n    constructor(productoServicio, router, _auth, _token, msg) {\n      this.productoServicio = productoServicio;\n      this.router = router;\n      this._auth = _auth;\n      this._token = _token;\n      this.msg = msg;\n      this.loading = false;\n      this.product = {\n        id_producto: '',\n        nombre: '',\n        descripcion: '',\n        precio: Number(),\n        precio_fabrica: Number(),\n        cantidad: Number(),\n        descuento: Number(),\n        fecha_registro: new Date(Date.now())\n      };\n      this.beforeUpload = (file, _fileList) => new Observable(observer => {\n        const isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\n        if (!isJpgOrPng) {\n          this.msg.error('You can only upload JPG file!');\n          observer.complete();\n          return;\n        }\n        const isLt2M = file.size / 1024 / 1024 < 2;\n        if (!isLt2M) {\n          this.msg.error('Image must smaller than 2MB!');\n          observer.complete();\n          return;\n        }\n        observer.next(isJpgOrPng && isLt2M);\n        observer.complete();\n      });\n    }\n    ngOnInit() {\n      let id = this._token.getId();\n      this.userId = id;\n      console.log(this.userId);\n    }\n    nuevoProduct() {\n      this._auth;\n      this.productoServicio.nuevoProducto(this.product, this.userId).subscribe(res => {\n        console.log(res);\n        this.router.navigate(['/empresa-producto']);\n      }, err => console.log(err));\n    }\n    getBase64(img, callback) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => callback(reader.result.toString()));\n      reader.readAsDataURL(img);\n    }\n    handleChange(info) {\n      switch (info.file.status) {\n        case 'uploading':\n          this.loading = true;\n          break;\n        case 'done':\n          // Get this url from response in real world.\n          this.getBase64(info.file.originFileObj, img => {\n            this.loading = false;\n            this.avatarUrl = img;\n          });\n          break;\n        case 'error':\n          this.msg.error('Network error');\n          this.loading = false;\n          break;\n      }\n    }\n  }\n  CreateProductoComponent.ɵfac = function CreateProductoComponent_Factory(t) {\n    return new (t || CreateProductoComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.TokenStorageService), i0.ɵɵdirectiveInject(i5.NzMessageService));\n  };\n  CreateProductoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateProductoComponent,\n    selectors: [[\"app-create-producto\"]],\n    decls: 78,\n    vars: 10,\n    consts: [[\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD\", \"crossorigin\", \"anonymous\"], [1, \"container-xl\"], [1, \"table-responsive\"], [1, \"table-wrapper\"], [1, \"table-title\"], [1, \"row\"], [1, \"col-sm-6\"], [\"href\", \"#\", \"routerLink\", \"/empresa-producto\", 1, \"btn\", \"btn-success\", \"back\"], [1, \"fas\", \"fa-arrow-circle-left\"], [\"employeeForm\", \"ngForm\"], [1, \"table-content\"], [1, \"form-group\", \"p-10\", \"row\"], [1, \"col-sm-3\"], [\"for\", \"FirstName\", 1, \"p-t-b-10\"], [1, \"requiredStar\"], [1, \"col-sm-9\"], [\"type\", \"text\", \"id\", \"FirstName\", \"required\", \"\", \"maxlength\", \"255\", \"name\", \"FirstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"FirstName\", \"ngModel\"], [\"for\", \"LastName\", 1, \"p-t-b-10\"], [\"type\", \"text\", \"id\", \"LastName\", \"required\", \"\", \"maxlength\", \"255\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"LastName\", \"ngModel\"], [\"type\", \"number\", \"id\", \"LastName\", \"required\", \"\", \"maxlength\", \"255\", \"name\", \"LastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"nzAction\", \"https://www.mocky.io/v2/5cc8019d300000980a055e76\", \"nzName\", \"avatar\", \"nzListType\", \"picture-card\", 1, \"avatar-uploader\", 3, \"nzShowUploadList\", \"nzBeforeUpload\", \"nzChange\"], [4, \"ngIf\"], [\"style\", \"width: 100%\", 3, \"src\", 4, \"ngIf\"], [1, \"table-footer\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [\"nz-icon\", \"\", 1, \"upload-icon\", 3, \"nzType\"], [1, \"ant-upload-text\"], [2, \"width\", \"100%\", 3, \"src\"]],\n    template: function CreateProductoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"h4\")(8, \"b\");\n        i0.ɵɵtext(9, \"Nueva producto\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"a\", 7);\n        i0.ɵɵelement(12, \"i\", 8);\n        i0.ɵɵtext(13, \" \\u00A0Back\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(14, \"form\", null, 9)(16, \"div\", 10)(17, \"div\", 11)(18, \"div\", 12)(19, \"label\", 13);\n        i0.ɵɵtext(20, \"Nombre\");\n        i0.ɵɵelementStart(21, \"span\", 14);\n        i0.ɵɵtext(22, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 15)(24, \"input\", 16, 17);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_24_listener($event) {\n          return ctx.product.nombre = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(26, \"div\", 11)(27, \"div\", 12)(28, \"label\", 18);\n        i0.ɵɵtext(29, \"descripcion\");\n        i0.ɵɵelementStart(30, \"span\", 14);\n        i0.ɵɵtext(31, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"div\", 15)(33, \"input\", 19, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_33_listener($event) {\n          return ctx.product.descripcion = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(35, \"div\", 11)(36, \"div\", 12)(37, \"label\", 18);\n        i0.ɵɵtext(38, \"precio\");\n        i0.ɵɵelementStart(39, \"span\", 14);\n        i0.ɵɵtext(40, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(41, \"div\", 15)(42, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_42_listener($event) {\n          return ctx.product.precio = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"div\", 11)(45, \"div\", 12)(46, \"label\", 18);\n        i0.ɵɵtext(47, \"precio fabrica\");\n        i0.ɵɵelementStart(48, \"span\", 14);\n        i0.ɵɵtext(49, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(50, \"div\", 15)(51, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_51_listener($event) {\n          return ctx.product.precio_fabrica = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 11)(54, \"div\", 12)(55, \"label\", 18);\n        i0.ɵɵtext(56, \"cantidad\");\n        i0.ɵɵelementStart(57, \"span\", 14);\n        i0.ɵɵtext(58, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(59, \"div\", 15)(60, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_60_listener($event) {\n          return ctx.product.cantidad = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(62, \"div\", 11)(63, \"div\", 12)(64, \"label\", 18);\n        i0.ɵɵtext(65, \"descuento\");\n        i0.ɵɵelementStart(66, \"span\", 14);\n        i0.ɵɵtext(67, \"*\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(68, \"div\", 15)(69, \"input\", 21, 20);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateProductoComponent_Template_input_ngModelChange_69_listener($event) {\n          return ctx.product.descuento = $event;\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(71, \"div\", 15)(72, \"nz-upload\", 22);\n        i0.ɵɵlistener(\"nzChange\", function CreateProductoComponent_Template_nz_upload_nzChange_72_listener($event) {\n          return ctx.handleChange($event);\n        });\n        i0.ɵɵtemplate(73, CreateProductoComponent_ng_container_73_Template, 4, 1, \"ng-container\", 23);\n        i0.ɵɵtemplate(74, CreateProductoComponent_img_74_Template, 1, 1, \"img\", 24);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(75, \"div\", 25)(76, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function CreateProductoComponent_Template_button_click_76_listener() {\n          return ctx.nuevoProduct();\n        });\n        i0.ɵɵtext(77, \"Submit\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(24);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.nombre);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.descripcion);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.precio);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.precio_fabrica);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.cantidad);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.product.descuento);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"nzShowUploadList\", false)(\"nzBeforeUpload\", ctx.beforeUpload);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.avatarUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.avatarUrl);\n      }\n    },\n    dependencies: [i6.NgIf, i2.RouterLink, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MaxLengthValidator, i7.NgModel, i7.NgForm, i8.ɵNzTransitionPatchDirective, i9.NzIconDirective, i10.NzUploadComponent],\n    styles: [\".container-xl[_ngcontent-%COMP%]{box-shadow:0 2px 4px #00000029,0 2px 10px #0000001f!important;padding:0;margin-top:6%;width:50%}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{margin:30px 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{background:#fff;padding:20px 25px;border-radius:3px;box-shadow:0 1px 1px #000}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{background:#64437d;color:#fff;padding:16px 30px;min-width:100%;margin:-20px -25px 10px;border-radius:3px 3px 0 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{float:right;text-transform:uppercase;font-size:13px!important}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]{padding-top:10px;text-align:center}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{color:#fff;width:100px;border-radius:2px;font-size:15px!important;text-transform:uppercase}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .p-10[_ngcontent-%COMP%]{padding:10px}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .p-t-b-10[_ngcontent-%COMP%]{padding:10px 0}.container-xl[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .requiredStar[_ngcontent-%COMP%]{color:red;padding-left:5px}[_nghost-%COMP%]     .avatar-uploader>.ant-upload{width:128px;height:128px}\"]\n  });\n  return CreateProductoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}