{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/token-storage.service\";\nimport * as i2 from \"../services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/product.service\";\nimport * as i5 from \"../services/cart.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"ng-zorro-antd/button\";\nimport * as i9 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i10 from \"ng-zorro-antd/core/wave\";\nimport * as i11 from \"ng-zorro-antd/icon\";\nimport * as i12 from \"ng-zorro-antd/input\";\nimport * as i13 from \"ng-zorro-antd/spin\";\nimport * as i14 from \"../product-card/product-card.component\";\nfunction PerfilEmpresaComponent_ng_template_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function PerfilEmpresaComponent_ng_template_30_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.search());\n    });\n    i0.ɵɵelement(1, \"span\", 27);\n    i0.ɵɵelementEnd();\n  }\n}\nconst _c0 = function () {\n  return {\n    \"font-size\": \"2rem\",\n    margin: \"0 auto\"\n  };\n};\nfunction PerfilEmpresaComponent_div_38_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 31);\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction0(1, _c0));\n  }\n}\nfunction PerfilEmpresaComponent_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 28);\n    i0.ɵɵtemplate(1, PerfilEmpresaComponent_div_38_ng_template_1_Template, 1, 2, \"ng-template\", null, 29, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelement(3, \"nz-spin\", 30);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r6 = i0.ɵɵreference(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"nzIndicator\", _r6);\n  }\n}\nfunction PerfilEmpresaComponent_div_39_app_product_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 34);\n  }\n  if (rf & 2) {\n    const n_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"id\", n_r9.id_producto)(\"title\", n_r9.nombre)(\"image\", n_r9.fileList)(\"price\", n_r9.precio)(\"short_desc\", n_r9.descuento)(\"category\", n_r9.nombre_comercial)(\"quantity\", n_r9.cantidad)(\"onAdd\", ctx_r8.cartService.addProduct.bind(ctx_r8.cartService));\n  }\n}\nfunction PerfilEmpresaComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 32);\n    i0.ɵɵtemplate(1, PerfilEmpresaComponent_div_39_app_product_card_1_Template, 1, 8, \"app-product-card\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.products);\n  }\n}\nexport let PerfilEmpresaComponent = /*#__PURE__*/(() => {\n  class PerfilEmpresaComponent {\n    constructor(_token, authservice, router, antivateRouter, productService, cartService) {\n      this._token = _token;\n      this.authservice = authservice;\n      this.router = router;\n      this.antivateRouter = antivateRouter;\n      this.productService = productService;\n      this.cartService = cartService;\n      this.id = \"\";\n      this.products = [];\n      this.loading = false;\n      this.productPageCounter = 1;\n      this.additionalLoading = false;\n      /*\r\n        cliente: Cliente = {\r\n            id_cliente: Number(),\r\n            nombre: '',\r\n            email: '',\r\n            telefono: '',\r\n            fecha_nacimiento: new Date(),\r\n            fecha_registro: new Date(),\r\n            userName: '',\r\n            password:'',\r\n            roles: [],\r\n          }*/\n      this.cliente_empresa = {\n        id_empresa: Number(),\n        dni_ruc: '',\n        razon_social: '',\n        nombre_comercial: '',\n        reputacion: '',\n        fecha_registro: new Date()\n      };\n      //////////////////////////**************************** */\n      this.searchValue = '';\n      this.listOfData = [];\n    }\n    ngOnInit() {\n      this.id = this.antivateRouter.snapshot.params['id_empresa'];\n      this.loading = true;\n      this.authservice.getClienteEmperesaById(this.id).subscribe(res => {\n        this.cliente_empresa = res;\n        console.log(res);\n      }, err => console.log(err));\n      setTimeout(() => {\n        this.productService.getAllProductsEmpresaLimit(9, this.productPageCounter, parseInt(this.id)).subscribe(res => {\n          console.log(res);\n          this.products = res;\n          this.loading = false;\n        }, err => {\n          console.log(err);\n          this.loading = false;\n        });\n      }, 500);\n    }\n    showMoreProducts() {\n      this.additionalLoading = true;\n      this.productPageCounter = this.productPageCounter + 1;\n      setTimeout(() => {\n        this.productService.getAllProductsEmpresaLimit(9, this.productPageCounter, parseInt(this.id)).subscribe(res => {\n          console.log(res);\n          this.products = [...this.products, ...res];\n          this.additionalLoading = false;\n        }, err => {\n          console.log(err);\n          this.additionalLoading = false;\n        });\n      }, 500);\n    }\n    reset() {\n      this.searchValue = '';\n      this.search();\n    }\n    search() {\n      // this.visible = false;\n      this.id = this.antivateRouter.snapshot.params['id_empresa'];\n      this.productService.getAllProductsEmpresa(parseInt(this.id)).subscribe(res => {\n        //  this.lista = res;        \n        this.products = res.filter(item => item.nombre.indexOf(this.searchValue) !== -1);\n      }, err => console.log(err));\n    }\n  }\n  PerfilEmpresaComponent.ɵfac = function PerfilEmpresaComponent_Factory(t) {\n    return new (t || PerfilEmpresaComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute), i0.ɵɵdirectiveInject(i4.ProductService), i0.ɵɵdirectiveInject(i5.CartService));\n  };\n  PerfilEmpresaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PerfilEmpresaComponent,\n    selectors: [[\"app-perfil-empresa\"]],\n    decls: 44,\n    vars: 6,\n    consts: [[\"href\", \"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css\", \"rel\", \"stylesheet\", \"integrity\", \"sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD\", \"crossorigin\", \"anonymous\"], [1, \"container\"], [1, \"row\", 2, \"padding-top\", \"100px\"], [1, \"col-3\"], [1, \"mb-3\"], [\"for\", \"exampleFormControlInput1\", 1, \"form-label\"], [\"type\", \"email\", \"id\", \"exampleFormControlInput1\", \"placeholder\", \"name@example.com\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\", 1, \"form-label\"], [\"id\", \"exampleFormControlTextarea1\", \"rows\", \"3\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [1, \"col\"], [1, \"bg-image\", \"text-center\", \"rounded\", \"mb-5\", \"text-white\", 2, \"background-image\", \"url('https://w0.peakpx.com/wallpaper/506/226/HD-wallpaper-clothes-store-interior.jpg')\", \"height\", \"35vh\"], [1, \"col-3\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"mask\", \"rounded\", 2, \"background-color\", \"rgba(0, 0, 0, 0.4)\", \"height\", \"35vh\"], [1, \"mb-3\", \"h2\"], [1, \"row\"], [\"nzSearch\", \"\", 3, \"nzAddOnAfter\"], [\"type\", \"text\", \"nz-input\", \"\", \"placeholder\", \"input search text\", 3, \"ngModel\", \"ngModelChange\"], [\"suffixIconButton\", \"\"], [1, \"home-container\"], [1, \"products\"], [1, \"products__header\"], [\"class\", \"products__loading\", 4, \"ngIf\"], [\"class\", \"products__list\", 4, \"ngIf\"], [1, \"load-products\"], [\"nz-button\", \"\", 3, \"nzLoading\", \"click\"], [\"nz-button\", \"\", \"nzType\", \"primary\", \"nzSearch\", \"\", 3, \"click\"], [\"nz-icon\", \"\", \"nzType\", \"search\"], [1, \"products__loading\"], [\"indicatorTemplate\", \"\"], [\"nzSimple\", \"\", 3, \"nzIndicator\"], [\"nz-icon\", \"\", \"nzType\", \"loading\", 3, \"ngStyle\"], [1, \"products__list\"], [3, \"id\", \"title\", \"image\", \"price\", \"short_desc\", \"category\", \"quantity\", \"onAdd\", 4, \"ngFor\", \"ngForOf\"], [3, \"id\", \"title\", \"image\", \"price\", \"short_desc\", \"category\", \"quantity\", \"onAdd\"]],\n    template: function PerfilEmpresaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"link\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"form\")(5, \"legend\");\n        i0.ɵɵtext(6, \"Contactar empresa\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Correo electronico\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"div\", 4)(12, \"label\", 7);\n        i0.ɵɵtext(13, \"Comentario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"textarea\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"button\", 9);\n        i0.ɵɵtext(16, \"Enviar mensaje\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(17, \"div\", 10)(18, \"div\", 11)(19, \"div\", 12)(20, \"div\", 13)(21, \"h1\", 14);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(23, \"div\", 10);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 15)(25, \"div\", 3);\n        i0.ɵɵelement(26, \"br\")(27, \"br\");\n        i0.ɵɵelementStart(28, \"nz-input-group\", 16)(29, \"input\", 17);\n        i0.ɵɵlistener(\"ngModelChange\", function PerfilEmpresaComponent_Template_input_ngModelChange_29_listener($event) {\n          return ctx.searchValue = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(30, PerfilEmpresaComponent_ng_template_30_Template, 2, 0, \"ng-template\", null, 18, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 10)(33, \"div\", 19)(34, \"div\", 20)(35, \"div\", 21)(36, \"h2\");\n        i0.ɵɵtext(37, \"Nuevos Productos\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(38, PerfilEmpresaComponent_div_38_Template, 4, 1, \"div\", 22);\n        i0.ɵɵtemplate(39, PerfilEmpresaComponent_div_39_Template, 2, 1, \"div\", 23);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(40, \"div\", 24)(41, \"button\", 25);\n        i0.ɵɵlistener(\"click\", function PerfilEmpresaComponent_Template_button_click_41_listener() {\n          return ctx.showMoreProducts();\n        });\n        i0.ɵɵtext(42, \" ver mas \");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵtext(43, \"\\n\\u00A0\\u00A0\");\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(31);\n        i0.ɵɵadvance(22);\n        i0.ɵɵtextInterpolate(ctx.cliente_empresa.nombre_comercial);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"nzAddOnAfter\", _r0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.searchValue);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"nzLoading\", ctx.additionalLoading);\n      }\n    },\n    dependencies: [i6.NgForOf, i6.NgIf, i6.NgStyle, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.NgModel, i7.NgForm, i8.NzButtonComponent, i9.ɵNzTransitionPatchDirective, i10.NzWaveDirective, i11.NzIconDirective, i12.NzInputDirective, i12.NzInputGroupComponent, i13.NzSpinComponent, i14.ProductCardComponent],\n    styles: [\".products[_ngcontent-%COMP%]{margin:0 auto;padding:24px 16px;max-width:382px}.products__loading[_ngcontent-%COMP%]{text-align:center}.products__header[_ngcontent-%COMP%]{margin-bottom:16px}.products__header[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{font-size:1.75rem}.products__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;row-gap:24px}.products__list[_ngcontent-%COMP%]   .product-card[_ngcontent-%COMP%]{height:100%;max-width:350px;margin:0 auto}.products__list[_ngcontent-%COMP%]   .product-card__image[_ngcontent-%COMP%]{cursor:pointer}.load-products[_ngcontent-%COMP%]{text-align:center;padding:16px 16px 32px}.load-products[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{max-width:341px;height:44px;width:100%}@media screen and (min-width: 768px){.home-container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{max-width:772px;padding:36px 24px}.home-container[_ngcontent-%COMP%]   .categories__list[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{height:200px}.home-container[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{max-width:772px;padding:36px 24px}.home-container[_ngcontent-%COMP%]   .products__header[_ngcontent-%COMP%]{margin-bottom:16px}.home-container[_ngcontent-%COMP%]   .products__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:24px;row-gap:24px}}@media screen and (min-width: 1200px){.home-container[_ngcontent-%COMP%]   .categories[_ngcontent-%COMP%]{max-width:1146px;padding:36px 24px}.home-container[_ngcontent-%COMP%]   .categories__list[_ngcontent-%COMP%]   .category-card[_ngcontent-%COMP%]{width:348px}.home-container[_ngcontent-%COMP%]   .products[_ngcontent-%COMP%]{max-width:1146px;padding:36px 24px}.home-container[_ngcontent-%COMP%]   .products__header[_ngcontent-%COMP%]{margin-bottom:16px}.home-container[_ngcontent-%COMP%]   .products__list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr}}@keyframes _ngcontent-%COMP%_gradient{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}\"]\n  });\n  return PerfilEmpresaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}