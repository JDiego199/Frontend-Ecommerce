{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/api.service\";\nimport * as i2 from \"src/app/services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"src/app/services/token-storage.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"ng-zorro-antd/button\";\nimport * as i8 from \"ng-zorro-antd/core/transition-patch\";\nimport * as i9 from \"ng-zorro-antd/core/wave\";\nimport * as i10 from \"ng-zorro-antd/input\";\nimport * as i11 from \"ng-zorro-antd/alert\";\nconst _c0 = function () {\n  return {\n    \"margin-bottom\": \"16px\"\n  };\n};\nfunction RegisterEmpresaComponent_nz_alert_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"nz-alert\", 15);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"nzMessage\", ctx_r0.errorMessage)(\"ngStyle\", i0.ɵɵpureFunction0(2, _c0));\n  }\n}\nexport let RegisterEmpresaComponent = /*#__PURE__*/(() => {\n  class RegisterEmpresaComponent {\n    constructor(_api, _auth, _router, _token) {\n      this._api = _api;\n      this._auth = _auth;\n      this._router = _router;\n      this._token = _token;\n      this.cliente_empresa = {\n        id_empresa: Number(),\n        dni_ruc: '',\n        razon_social: '',\n        nombre_comercial: '',\n        reputacion: '',\n        fecha_registro: new Date(Date.now())\n      };\n      this.cliente = {\n        id_cliente: Number(),\n        nombre: '',\n        email: '',\n        telefono: '',\n        fecha_nacimiento: new Date(),\n        fecha_registro: new Date(Date.now()),\n        password: '',\n        userName: '',\n        roles: [{\n          id: 1,\n          \"rolNombre\": \"ROLE_EMPRESA\"\n        }]\n      };\n      this.errorMessage = '';\n      this.loading = false;\n    }\n    ngOnInit() {\n      let id = this._token.getId();\n      this.userId = id;\n      console.log(this.userId);\n    }\n    nuevoClienteEmp() {\n      if (this.cliente_empresa.dni_ruc) {\n        this._auth.cambiarRol(this.cliente, this.userId).subscribe(res => {\n          console.log(res);\n          //this._router.navigate(['/']);\n        }, err => console.log(err));\n        this._auth.clienteEmpresa(this.cliente_empresa, this.userId).subscribe(res => {\n          console.log(res);\n          this._router.navigate(['/']);\n        }, err => console.log(err));\n      } else {\n        this.errorMessage = 'Asegurese de completar los todos los campos';\n      }\n    }\n  }\n  RegisterEmpresaComponent.ɵfac = function RegisterEmpresaComponent_Factory(t) {\n    return new (t || RegisterEmpresaComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TokenStorageService));\n  };\n  RegisterEmpresaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegisterEmpresaComponent,\n    selectors: [[\"app-register-empresa\"]],\n    decls: 26,\n    vars: 4,\n    consts: [[1, \"register-container\"], [1, \"form-container\"], [\"nzShowIcon\", \"\", \"nzType\", \"error\", 3, \"nzMessage\", \"ngStyle\", 4, \"ngIf\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"newClienteEmp\", \"ngForm\"], [1, \"input-container\"], [\"for\", \"fullName\"], [\"type\", \"number\", \"name\", \"dniRuc\", \"required\", \"\", \"placeholder\", \"Ingrese su DNI o RUC\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"userName\"], [\"nz-input\", \"\", \"type\", \"text\", \"name\", \"razon_social\", \"required\", \"\", \"placeholder\", \"Ingrese la razon social\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"nz-input\", \"\", \"type\", \"text\", \"required\", \"\", \"name\", \"nombre_comercial\", \"placeholder\", \"Ingrese su nombre comercial\", 3, \"ngModel\", \"ngModelChange\"], [1, \"cta-container\"], [\"nz-button\", \"\", 3, \"click\"], [\"routerLink\", \"/login\"], [\"nzShowIcon\", \"\", \"nzType\", \"error\", 3, \"nzMessage\", \"ngStyle\"]],\n    template: function RegisterEmpresaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"VENDEDOR\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(4, RegisterEmpresaComponent_nz_alert_4_Template, 1, 3, \"nz-alert\", 2);\n        i0.ɵɵelementStart(5, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function RegisterEmpresaComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.nuevoClienteEmp();\n        });\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"label\", 6);\n        i0.ɵɵtext(9, \"DNI o RUC\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterEmpresaComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.cliente_empresa.dni_ruc = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(11, \"div\", 5)(12, \"label\", 8);\n        i0.ɵɵtext(13, \"Razon Social\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterEmpresaComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.cliente_empresa.razon_social = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(15, \"div\", 5)(16, \"label\", 10);\n        i0.ɵɵtext(17, \"Nombre Comercial\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function RegisterEmpresaComponent_Template_input_ngModelChange_18_listener($event) {\n          return ctx.cliente_empresa.nombre_comercial = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"div\", 12)(20, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function RegisterEmpresaComponent_Template_button_click_20_listener() {\n          return ctx.nuevoClienteEmp();\n        });\n        i0.ɵɵtext(21, \" Sign up \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\")(23, \"div\")(24, \"a\", 14);\n        i0.ɵɵtext(25, \"Sign in with an existing user\");\n        i0.ɵɵelementEnd()()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.cliente_empresa.dni_ruc);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.cliente_empresa.razon_social);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.cliente_empresa.nombre_comercial);\n      }\n    },\n    dependencies: [i5.NgIf, i5.NgStyle, i3.RouterLink, i6.ɵNgNoValidate, i6.DefaultValueAccessor, i6.NumberValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm, i7.NzButtonComponent, i8.ɵNzTransitionPatchDirective, i9.NzWaveDirective, i10.NzInputDirective, i11.NzAlertComponent],\n    styles: [\"@charset \\\"UTF-8\\\";.register-container[_ngcontent-%COMP%]{padding:24px 16px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:475px;padding:24px 16px;margin:0 auto;background:rgba(255,241,143,.6);box-shadow:0 8px 32px #1f26875e;backdrop-filter:blur(9px);-webkit-backdrop-filter:blur(9px);border-radius:10px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > .error-container[_ngcontent-%COMP%]{padding:12px;margin:0 0 16px;color:#fff;background-color:#f83333;border-radius:4px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .\\\\1f92a[_ngcontent-%COMP%] {display:grid;grid-column-gap:12px;grid-template-columns:1fr 1fr;margin-bottom:24px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .\\\\2705[_ngcontent-%COMP%] {margin-bottom:32px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .\\\\2705[_ngcontent-%COMP%]    > .checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:12px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .\\\\2705[_ngcontent-%COMP%]    > .checkbox-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:auto;margin-right:12px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .\\\\2705[_ngcontent-%COMP%]    > .checkbox-container[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.75rem}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .cta-container[_ngcontent-%COMP%]{text-align:center}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .cta-container[_ngcontent-%COMP%] > button[type=submit][_ngcontent-%COMP%]{height:52px;width:100%;padding:0 30px;margin-bottom:12px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > form[_ngcontent-%COMP%] > .cta-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{text-align:left}@media screen and (min-width: 768px){.register-container[_ngcontent-%COMP%]{padding:48px 16px 240px}.register-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{padding:36px}}.input-container[_ngcontent-%COMP%]{margin-bottom:12px}.input-container[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:.875rem;display:inline-block;margin-bottom:6px}.input-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{padding:10px 12px;width:100%}\"]\n  });\n  return RegisterEmpresaComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}